#!/bin/bash
set -e

folders=(

    '2023-02-20-1-1 2023-02-20-1-1 2023-02-20-1-1'
    '2023-02-20-1-2 2023-02-20-1-2 2023-02-20-1-2'
    '2023-02-20-1-3 2023-02-20-1-3 2023-02-20-1-3'
    '2023-02-20-1-5 2023-02-20-1-5 2023-02-20-1-5'
    '2023-02-20-1-6 2023-02-20-1-6 2023-02-20-1-6'
    '2023-02-20-1-7 2023-02-20-1-7 2023-02-20-1-7'
    '2023-02-21-1-2 2023-02-21-1-2 2023-02-21-1-2'
    '2023-02-21-1-3 2023-02-21-1-3 2023-02-21-1-3'
    '2023-02-21-1-4 2023-02-21-1-4 2023-02-21-1-4'
    '2023-02-21-1-5 2023-02-21-1-5 2023-02-21-1-5'
    '2023-02-21-1-6 2023-02-21-1-6 2023-02-21-1-6'
    '2023-02-21-1-7 2023-02-21-1-7 2023-02-21-1-7'
    '2023-03-01-1-3 2023-03-01-1-3 2023-03-01-1-3'
    '2023-03-01-1-4 2023-03-01-1-4 2023-03-01-1-4'
    '2023-03-01-2-2 2023-03-01-2-2 2023-03-01-2-2'
    '2023-03-02-1-1 2023-03-02-1-1 2023-03-02-1-1'
    '2023-03-02-1-2 2023-03-02-1-2 2023-03-02-1-2'
    '2023-03-02-1-3 2023-03-02-1-3 2023-03-02-1-3'
    
    'Set-1/2022-03-16-1-1 2022-03-16-1-1 2022-03-16-1-1'
    'Set-1/2022-03-16-1-2 2022-03-16-1-2 2022-03-16-1-2'
    'Set-1/2022-03-16-1-3 2022-03-16-1-3 2022-03-16-1-3'
    'Set-1/2022-03-16-1-4 2022-03-16-1-4 2022-03-16-1-4'
    
    'Set-2/2022-03-16-1-5 2022-03-16-1-5 2022-03-16-1-5'
    'Set-2/2022-03-16-1-6 2022-03-16-1-6 2022-03-16-1-6'
    'Set-2/2022-03-16-1-7 2022-03-16-1-7 2022-03-16-1-7'
    'Set-2/2022-03-16-1-8 2022-03-16-1-8 2022-03-16-1-8'

    'Set-3/2022-03-16-2-1 2022-03-16-2-1 2022-03-16-2-1'
    'Set-3/2022-03-16-2-2 2022-03-16-2-2 2022-03-16-2-2'
    'Set-3/2022-03-16-2-3 2022-03-16-2-3 2022-03-16-2-3'
)


for path_id in "${folders[@]}"; do

    set -- $path_id # Convert the "tuple" into the param args $1 $2...
    hto_folder=$1
    adt_folder=$2
    sampleID=$3
    
    
    echo "Starting $sampleID"
    Rscript demux.r $hto_folder $adt_folder $sampleID

done
